<!doctype html><html lang="en" data-mode="light"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="VProg Intro : Week 2, Two Pointers - Solutions" /><meta property="og:locale" content="en" /><meta name="description" content="HW1: 3SUM" /><meta property="og:description" content="HW1: 3SUM" /><link rel="canonical" href="https://vprog.hu/posts/2024-10-11-intro-week-2-solutions/" /><meta property="og:url" content="https://vprog.hu/posts/2024-10-11-intro-week-2-solutions/" /><meta property="og:site_name" content="VProg" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-10-11T22:00:00+02:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="VProg Intro : Week 2, Two Pointers - Solutions" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-10-11T22:00:00+02:00","datePublished":"2024-10-11T22:00:00+02:00","description":"HW1: 3SUM","headline":"VProg Intro : Week 2, Two Pointers - Solutions","mainEntityOfPage":{"@type":"WebPage","@id":"https://vprog.hu/posts/2024-10-11-intro-week-2-solutions/"},"url":"https://vprog.hu/posts/2024-10-11-intro-week-2-solutions/"}</script><title>VProg Intro : Week 2, Two Pointers - Solutions | VProg</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="VProg"><meta name="application-name" content="VProg"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.21.1/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" style="display:block"> <img src="/assets/img/balloons-cartoon.png" width="100%" alt="avatar" onerror="this.style.display='none'"> </a><h1 class="site-title"> <a href="/">VProg</a></h1><p class="site-subtitle fst-italic mb-0">Competitive programming student club at BME. ICPC, Codeforces, LeetCode, etc.</p><div class="sidebar-social d-flex flex-wrap align-items-center w-100"> <a href="https://vprog.hu/discord" aria-label="discord" target="_blank" rel="noopener noreferrer" > <i class="fa-brands fa-discord" style="color: #7289da;"></i> </a> <a href="https://github.com/bmevprog" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fa-brands fa-github" style="color: #333;"></i> </a> <a href="https://www.youtube.com/@bmevprog" aria-label="youtube" target="_blank" rel="noopener noreferrer" > <i class="fa-brands fa-youtube" style="color: #ff0000;"></i> </a> <a href="https://www.facebook.com/bmevprog" aria-label="facebook" target="_blank" rel="noopener noreferrer" > <i class="fa-brands fa-facebook-square" style="color: #3b5998;"></i> </a> <a href="https://www.instagram.com/bmevprog" aria-label="instagram" target="_blank" rel="noopener noreferrer" > <i class="fa-brands fa-instagram" style="color: #e1306c;"></i> </a> <a href="https://www.twitter.com/bmevprog" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fa-brands fa-twitter" style="color: #1da1f2;"></i> </a> <a href="https://www.linkedin.com/company/bmevprog" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fa-brands fa-linkedin" style="color: #0077b5;"></i> </a></div></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/join/" class="nav-link"> <i class="fa-fw fa-solid fa-at"></i> <span>JOIN</span> </a><li class="nav-item"> <a href="/calendar/" class="nav-link"> <i class="fa-fw fa-solid fa-chalkboard-user"></i> <span>CALENDAR</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fa-solid fa-box-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fa-solid fa-bars-staggered"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fa-solid fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/rss/" class="nav-link"> <i class="fa-fw fa-solid fa-rss"></i> <span>RSS</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fa-solid fa-at"></i> <span>CONTACT</span> </a></ul></nav></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/"> Home </a> </span> <span>VProg Intro : Week 2, Two Pointers - Solutions</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1"><header><h1 data-toc-skip>VProg Intro : Week 2, Two Pointers - Solutions</h1><div class="post-meta text-muted"> <span> Posted <time data-ts="1728676800" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Oct 11, 2024 </time> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://cs.bme.hu/~nemkin">Viktória Nemkin</a> </em> </span> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="1454 words" > <em>8 min</em> read</span></div></div></header><div class="content"><h2 id="hw1-3sum"><span class="me-2">HW1: 3SUM</span><a href="#hw1-3sum" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><a href="https://leetcode.com/problems/3sum">LC 15</a></p><p>This exercise is similar to the TwoSum one in the video. We iterate the input vector, checking all possible candidates for the first number of the three. Inside the loop we do the same Left/Right two pointer technique as for TwoSum, to find the two other numbers of the triplets.</p><p>Since we are now looking for all solutions, we collect them in a container and return it at the end. Because the input vector can contain duplicate numbers, our code might find the same set of three numbers more than once, but our return vector cannot contain duplicate solutions. To achieve this, we first collect the results in an <code class="language-plaintext highlighter-rouge">std::set</code>, which automatically handles duplicate entries by only storing unique elements. At the end, this has to be converted back into an <code class="language-plaintext highlighter-rouge">std::vector</code>, to match the return type of the function.</p><p>The naive, or brute force solution would be three nested for-loops, in $O(n^3)$ time. This solution improves that to $O(n^2)$, with an outer for-loop executed $n$ times, and the inner two pointers algorithm running in $O(n)$.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span>
<span class="p">{</span>
<span class="nl">public:</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">threeSum</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
    <span class="n">sort</span><span class="p">(</span><span class="n">nums</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">nums</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>

    <span class="n">set</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">results</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
      <span class="kt">int</span> <span class="n">k</span><span class="o">=</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>
      <span class="k">while</span><span class="p">(</span><span class="n">j</span><span class="o">&lt;</span><span class="n">k</span><span class="p">)</span>
      <span class="p">{</span>
        <span class="k">while</span><span class="p">(</span><span class="n">j</span><span class="o">&lt;</span><span class="n">k</span> <span class="o">&amp;&amp;</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">nums</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">++</span><span class="n">j</span><span class="p">;</span>
        <span class="k">while</span><span class="p">(</span><span class="n">j</span><span class="o">&lt;</span><span class="n">k</span> <span class="o">&amp;&amp;</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">nums</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">--</span><span class="n">k</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="n">j</span><span class="o">&lt;</span><span class="n">k</span> <span class="o">&amp;&amp;</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">nums</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
        <span class="p">{</span>
          <span class="n">results</span><span class="p">.</span><span class="n">insert</span><span class="p">({</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">nums</span><span class="p">[</span><span class="n">k</span><span class="p">]});</span>
          <span class="o">++</span><span class="n">j</span><span class="p">;</span> <span class="o">--</span><span class="n">k</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">ans</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="k">auto</span><span class="o">&amp;</span> <span class="n">s</span> <span class="o">:</span> <span class="n">results</span><span class="p">)</span> <span class="n">ans</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>
</pre></table></code></div></div><h2 id="hw2-subarray-product-less-than-k"><span class="me-2">HW2: Subarray Product Less Than K</span><a href="#hw2-subarray-product-less-than-k" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><a href="https://leetcode.com/problems/subarray-product-less-than-k">LC 713</a></p><p>We should find the longest subarray for each starting index where the product of all elements is less than $k$. Since the numbers are at least $1$, any prefix of this array is also a solution and anything longer than this cannot be a solution. So once we have the longest subarray like this, we can count each prefix as a valid solution.</p><p>The longest subarrays can be found using the Slow/Fast two pointer approach. The left bound increases step by step, while the right bound is increased till the product is small enough. For each $i$, $j$ will point to the first element in the array, for which the product of the numbers <code class="language-plaintext highlighter-rouge">nums[i]</code> to <code class="language-plaintext highlighter-rouge">nums[j]</code> will be too much. Therefore $j-1$ is the last valid index, we have exactly $j-i$ valid prefixes.</p><p>At the end of the loop, before we increment $i$, we must pay attention to also divide our current product with the number we are stepping off of, <code class="language-plaintext highlighter-rouge">nums[i]</code> since it won’t be a part of our subarray when the loop restarts.</p><p>We handle the case when <code class="language-plaintext highlighter-rouge">nums[i]</code> itself is too large separately, stepping both pointers off of it and initializig <code class="language-plaintext highlighter-rouge">prod</code> again with $1$.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span>
<span class="p">{</span>
<span class="nl">public:</span>
  <span class="kt">int</span> <span class="n">numSubarrayProductLessThanK</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">k</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
    <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">prod</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="k">while</span><span class="p">(</span><span class="n">j</span><span class="o">&lt;</span><span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">prod</span> <span class="o">*</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">k</span><span class="p">)</span>
      <span class="p">{</span>
        <span class="n">prod</span> <span class="o">*=</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
        <span class="o">++</span><span class="n">j</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="n">ans</span> <span class="o">+=</span> <span class="n">j</span><span class="o">-</span><span class="n">i</span><span class="p">;</span>
      <span class="k">if</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">k</span><span class="p">)</span> <span class="n">prod</span> <span class="o">/=</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
      <span class="k">else</span> <span class="p">{</span> <span class="n">j</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span> <span class="n">prod</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>
</pre></table></code></div></div><h2 id="hw3-container-with-most-water"><span class="me-2">HW3: Container with most water</span><a href="#hw3-container-with-most-water" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><a href="https://leetcode.com/problems/container-with-most-water">LC 11</a></p><p>This exercise is a bit more challenging than the previous ones.</p><p>We can quickly notice, that sorting is not a possibility here, because we are concerned not only with the heights, but also the widths, i.e. the distances of the vertical lines.</p><p>However, a Left/Right two pointer approach will work here, with the following reasoning: Start out with the widest possible container, the left pointer $i=0$ and the right pointer $j=n-1$. Between <code class="language-plaintext highlighter-rouge">height[i]</code> and <code class="language-plaintext highlighter-rouge">height[j]</code>, the shorter one determines the area of the container, let’s say the shorter one is at the left, pointer $i$.</p><p>Fixing $i$, is there any way to get a bigger container? No, because <code class="language-plaintext highlighter-rouge">height[i]</code> is an upper limit on how tall the container can be, so even if the other line is taller, it won’t make the area bigger. Furthermore, we have the longest possible width right now, our $j$ pointer will only step closer to $i$, so the width can only decrease.</p><p>Therefore, there is no other solution to be considered that includes pointer $i$, we can step off of it now. And the argument is similar for pointer $j$.</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span>
<span class="p">{</span>
<span class="nl">public:</span>
  <span class="kt">int</span> <span class="n">maxArea</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">height</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">height</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
    <span class="kt">int</span> <span class="n">ans</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>

    <span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">j</span><span class="o">=</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="k">while</span><span class="p">(</span><span class="n">i</span><span class="o">&lt;</span><span class="n">j</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="kt">int</span> <span class="n">area</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">height</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">height</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="n">j</span><span class="o">-</span><span class="n">i</span><span class="p">);</span>
      <span class="n">ans</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">area</span><span class="p">);</span>
      <span class="k">if</span><span class="p">(</span><span class="n">height</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">height</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="o">++</span><span class="n">i</span><span class="p">;</span>
      <span class="k">else</span> <span class="o">--</span><span class="n">j</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>
</pre></table></code></div></div><h2 id="challenge-vasya-and-arrays"><span class="me-2">Challenge: Vasya and Arrays</span><a href="#challenge-vasya-and-arrays" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><a href="https://codeforces.com/contest/1036/problem/D">CF 1036D</a></p><p>Let’s call the operation Vasya performs a merge.</p><p>In this exercise we have a new setup: our two pointers will be moving through two separate arrays.</p><p>We start with both pointers pointing to the first elements of their respective arrays. If those elements are equal, we are lucky, there is no need to merge them with anything! In fact, if we were to merge here, any solution we end up with could be improved by “unmerging” these elements, so it would never be optimal to merge these numbers. Therefore, we keep them as is and move both pointers to the next elements of their arrays.</p><p>If the two current elements are not equal, we will start merging in one of the arrays: if $a[i] &lt; b[j]$, we have to increase our current element’s value in array <code class="language-plaintext highlighter-rouge">a</code>, otherwise it would never match to array <code class="language-plaintext highlighter-rouge">b</code>. Therefore we merge <code class="language-plaintext highlighter-rouge">a[i]</code> with <code class="language-plaintext highlighter-rouge">a[i+1]</code>.</p><p>Similarly, if $a[i] &gt; b[j]$ we do the same in array <code class="language-plaintext highlighter-rouge">b</code>.</p><p>A little implementation trick here is to not remove any merged elements from the arrays, simply add <code class="language-plaintext highlighter-rouge">a[i]</code> to <code class="language-plaintext highlighter-rouge">a[i+1]</code> and increment <code class="language-plaintext highlighter-rouge">i</code>. This allows us to keep track of the current elements, without needing to do costly removals.</p><p>In the end, if we are able to finish both of our arrays, we have successfully made them equal. If our loop exited with one array still having remaining elements, it means that they cannot be made equal. (This is the case, for example, when their sum is different.)</p><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">&lt;bits/stdc++.h&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">using</span> <span class="n">ll</span> <span class="o">=</span> <span class="kt">long</span> <span class="kt">long</span><span class="p">;</span>
  
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">ios</span><span class="o">::</span><span class="n">sync_with_stdio</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="n">cin</span><span class="p">.</span><span class="n">tie</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
  <span class="kt">int</span> <span class="n">n</span><span class="p">;</span> <span class="n">cin</span><span class="o">&gt;&gt;</span><span class="n">n</span><span class="p">;</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">ll</span><span class="o">&gt;</span> <span class="n">a</span><span class="p">(</span><span class="n">n</span><span class="p">);</span> <span class="k">for</span><span class="p">(</span><span class="k">auto</span><span class="o">&amp;</span> <span class="n">ai</span><span class="o">:</span> <span class="n">a</span><span class="p">)</span> <span class="n">cin</span><span class="o">&gt;&gt;</span><span class="n">ai</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">m</span><span class="p">;</span> <span class="n">cin</span><span class="o">&gt;&gt;</span><span class="n">m</span><span class="p">;</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">ll</span><span class="o">&gt;</span> <span class="n">b</span><span class="p">(</span><span class="n">m</span><span class="p">);</span> <span class="k">for</span><span class="p">(</span><span class="k">auto</span><span class="o">&amp;</span> <span class="n">bi</span><span class="o">:</span> <span class="n">b</span><span class="p">)</span> <span class="n">cin</span><span class="o">&gt;&gt;</span><span class="n">bi</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">ans</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>

  <span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
  <span class="k">while</span><span class="p">(</span><span class="n">i</span><span class="o">&lt;</span><span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">j</span><span class="o">&lt;</span><span class="n">m</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">b</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="p">{</span> <span class="o">++</span><span class="n">i</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">;</span> <span class="o">++</span><span class="n">ans</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">else</span> <span class="nf">if</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">b</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
    <span class="p">{</span>
      <span class="k">if</span><span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="o">++</span><span class="n">i</span><span class="p">;</span> <span class="p">}</span>
      <span class="k">else</span> <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="nf">if</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">b</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
    <span class="p">{</span>
      <span class="k">if</span><span class="p">(</span><span class="n">j</span> <span class="o">&lt;</span> <span class="n">m</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span> <span class="n">b</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="n">b</span><span class="p">[</span><span class="n">j</span><span class="p">];</span> <span class="o">++</span><span class="n">j</span><span class="p">;</span> <span class="p">}</span>
      <span class="k">else</span> <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">&lt;</span><span class="n">n</span> <span class="o">||</span> <span class="n">j</span><span class="o">&lt;</span><span class="n">m</span><span class="p">)</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">-</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="k">else</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">ans</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><p>This type of two pointers technique appears, for example, in the <a href="https://en.wikipedia.org/wiki/Merge_algorithm">merge operation</a> of the <a href="https://en.wikipedia.org/wiki/Merge_sort">merge sort algorithm</a>. In that case, the two pointers iterate the two sorted arrays, always appending the smaller element to the resulting array.</p><h3 id="fastio"><span class="me-2">FastIO</span><a href="#fastio" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>An important note on this exercise is that the solution without the line <code class="language-plaintext highlighter-rouge">ios::sync_with_stdio(0); cin.tie(0);</code> will result in a <code class="language-plaintext highlighter-rouge">Time Limit Exceeded</code> verdict, simply because the input size is very large.</p><p>In C++, we have access to both the C-style standard streams <code class="language-plaintext highlighter-rouge">stdin</code> and <code class="language-plaintext highlighter-rouge">stdout</code> (using functions, such as <code class="language-plaintext highlighter-rouge">std::scanf</code> and <code class="language-plaintext highlighter-rouge">std::printf</code>) and also <code class="language-plaintext highlighter-rouge">std::cin</code>and <code class="language-plaintext highlighter-rouge">std:cout</code>, which are implemented differently.</p><p>To allow freely mixing the two types of I/O’s, C++ by default synchronizes the two streams, applying each I/O operation on a C++ stream onto the corresponding C stream’s buffer. If you don’t use C-style I/O, you can disable this behaviour by calling <code class="language-plaintext highlighter-rouge">std::ios::sync_with_stdio(0)</code>. This will make your C++ I/O considerably faster.</p><p>Furthermore, by default C++ will flush the <code class="language-plaintext highlighter-rouge">std::cout</code> buffer before every <code class="language-plaintext highlighter-rouge">std::cin</code> operation, to print whatever output the program produced, for example giving the user a nice prompt, asking them to input something, before <code class="language-plaintext highlighter-rouge">std::cin</code> runs. In a <em>non-interactive problem</em>, this is completely unnecessary and can be disabled by calling <code class="language-plaintext highlighter-rouge">cin.tie(0)</code>.</p><p>If you ever need to flush <code class="language-plaintext highlighter-rouge">std::cout</code>, you can manually run <code class="language-plaintext highlighter-rouge">cout &lt;&lt; flush</code>, or <code class="language-plaintext highlighter-rouge">cout &lt;&lt; endl</code>, the latter printing a line ending as well.</p><p>References:</p><ul><li><a href="https://en.cppreference.com/w/cpp/io/ios_base/sync_with_stdio">std::ios::sync_with_stdio</a><li><a href="https://en.cppreference.com/w/cpp/io/basic_ios/tie">std::tie</a><li><a href="https://en.cppreference.com/w/cpp/io/manip/flush">std::flush</a></ul></div><div class="post-tail-wrapper text-muted pt-5"><div class="post-meta"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/vprog-intro/">vprog-intro</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-2 pb-2"><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/vprog-intro/" class="post-tag no-text-decoration" >vprog-intro</a> <a href="/tags/twoptr/" class="post-tag no-text-decoration" >twoptr</a> <a href="/tags/solutions/" class="post-tag no-text-decoration" >solutions</a></div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted me-1">Share</span> <span class="share-icons"> <a href="https://www.facebook.com/sharer/sharer.php?title=VProg%20Intro%20:%20Week%202,%20Two%20Pointers%20-%20Solutions%20-%20VProg&u=https%3A%2F%2Fvprog.hu%2Fposts%2F2024-10-11-intro-week-2-solutions%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook" > <i class="fa-fw fa-brands fa-square-facebook"></i> </a> <a href="https://twitter.com/intent/tweet?text=VProg%20Intro%20:%20Week%202,%20Two%20Pointers%20-%20Solutions%20-%20VProg&url=https%3A%2F%2Fvprog.hu%2Fposts%2F2024-10-11-intro-week-2-solutions%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter" > <i class="fa-fw fa-brands fa-square-twitter"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fvprog.hu%2Fposts%2F2024-10-11-intro-week-2-solutions%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin" > <i class="fa-fw fa-brands fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted"><div class="access"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/vprog/">vprog</a> <a class="post-tag btn btn-outline-primary" href="/tags/vprog-intro/">vprog-intro</a> <a class="post-tag btn btn-outline-primary" href="/tags/starting/">starting</a> <a class="post-tag btn btn-outline-primary" href="/tags/solutions/">solutions</a> <a class="post-tag btn btn-outline-primary" href="/tags/video/">video</a> <a class="post-tag btn btn-outline-primary" href="/tags/binsearch/">binsearch</a> <a class="post-tag btn btn-outline-primary" href="/tags/codeforces/">codeforces</a> <a class="post-tag btn btn-outline-primary" href="/tags/twoptr/">twoptr</a> <a class="post-tag btn btn-outline-primary" href="/tags/codejam/">codejam</a> <a class="post-tag btn btn-outline-primary" href="/tags/dfs/">dfs</a></div></section></div><section id="toc-wrapper" class="ps-0 pe-4"><h2 class="panel-heading ps-3 pt-2 mb-2">Contents</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/2024-09-20-intro-week-1-solutions/" class="post-preview card h-100"><div class="card-body"> <time class="small" data-ts="1726822800" data-df="ll" > Sep 20, 2024 </time><h4 class="pt-0 my-2">VProg Intro : Week 1, Introduction - Solutions</h4><div class="text-muted small"><p> HW1: Present from Lena CF 118B There are many ways you can come up with code for this. In this example, we calculate the following way: Iterate each cell position in the $(2n+1) \times (2n+1)...</p></div></div></a></article><article class="col"> <a href="/posts/2024-09-20-intro-week-2/" class="post-preview card h-100"><div class="card-body"> <time class="small" data-ts="1726831500" data-df="ll" > Sep 20, 2024 </time><h4 class="pt-0 my-2">VProg Intro : Week 2, Two Pointers</h4><div class="text-muted small"><p></p></div></div></a></article><article class="col"> <a href="/posts/2024-10-12-intro-week-3-solutions/" class="post-preview card h-100"><div class="card-body"> <time class="small" data-ts="1728741600" data-df="ll" > Oct 12, 2024 </time><h4 class="pt-0 my-2">VProg Intro : Week 3, Binary Search - Solutions</h4><div class="text-muted small"><p> HW1: Successful Pairs of Spells and Potions LC 2300 For each spell, we are looking for the number of potions that will form a successful pair with it. We can first order the potions by increasing...</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/2024-09-28-intro-week-3/" class="btn btn-outline-primary" aria-label="Older" ><p>VProg Intro : Week 3, Binary Search</p></a> <a href="/posts/2024-10-12-intro-week-3-solutions/" class="btn btn-outline-primary" aria-label="Newer" ><p>VProg Intro : Week 3, Binary Search - Solutions</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>Using the <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/vprog/">vprog</a> <a class="post-tag btn btn-outline-primary" href="/tags/vprog-intro/">vprog-intro</a> <a class="post-tag btn btn-outline-primary" href="/tags/starting/">starting</a> <a class="post-tag btn btn-outline-primary" href="/tags/solutions/">solutions</a> <a class="post-tag btn btn-outline-primary" href="/tags/video/">video</a> <a class="post-tag btn btn-outline-primary" href="/tags/binsearch/">binsearch</a> <a class="post-tag btn btn-outline-primary" href="/tags/codeforces/">codeforces</a> <a class="post-tag btn btn-outline-primary" href="/tags/twoptr/">twoptr</a> <a class="post-tag btn btn-outline-primary" href="/tags/codejam/">codejam</a> <a class="post-tag btn btn-outline-primary" href="/tags/dfs/">dfs</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask"></div><script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.1/dist/jquery.min.js,npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.10/dayjs.min.js,npm/dayjs@1.11.10/locale/en.min.js,npm/dayjs@1.11.10/plugin/relativeTime.min.js,npm/dayjs@1.11.10/plugin/localizedFormat.min.js,npm/tocbot@4.21.1/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { /* start/end delimiter pairs for in-line math */ inlineMath: [ ['$', '$'], ['\\(', '\\)'] ], /* start/end delimiter pairs for display math */ displayMath: [ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-chtml.js"></script> <script defer src="/unregister.js"></script> <script> /* Note: dependent library will be loaded in `js-selector.html` */ SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5"></p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
